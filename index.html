
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>
    <link href="images/favicon.ico" rel="icon" type="image/ico" />
    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;ruby&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">Curl</a>
              <a href="#" data-language-name="ruby">Ruby</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
          </li>
          <li>
            <a href="#sandbox" class="toc-h1 toc-link" data-title="Sandbox">Sandbox</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#test-payments-credentials" class="toc-h2 toc-link" data-title="Test payments credentials">Test payments credentials</a>
                  </li>
                  <li>
                    <a href="#best-practice-for-testing" class="toc-h2 toc-link" data-title="Best practice for testing">Best practice for testing</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#sales-page" class="toc-h1 toc-link" data-title="Sales Page">Sales Page</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#create-sales-page" class="toc-h2 toc-link" data-title="Create sales page">Create sales page</a>
                  </li>
                  <li>
                    <a href="#get-sales-pages" class="toc-h2 toc-link" data-title="Get sales pages">Get sales pages</a>
                  </li>
                  <li>
                    <a href="#update-sales-page" class="toc-h2 toc-link" data-title="Update sales page">Update sales page</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#pricing-plans" class="toc-h1 toc-link" data-title="Pricing plans">Pricing plans</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-pricing-plan" class="toc-h2 toc-link" data-title="Get pricing plan">Get pricing plan</a>
                  </li>
                  <li>
                    <a href="#create-pricing-plan" class="toc-h2 toc-link" data-title="Create pricing plan">Create pricing plan</a>
                  </li>
                  <li>
                    <a href="#delete-pricing-plan" class="toc-h2 toc-link" data-title="Delete pricing plan">Delete pricing plan</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#payments" class="toc-h1 toc-link" data-title="Payments">Payments</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-payment-info" class="toc-h2 toc-link" data-title="Get payment info">Get payment info</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#refunds" class="toc-h1 toc-link" data-title="Refunds">Refunds</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#create-a-refund" class="toc-h2 toc-link" data-title="Create a refund">Create a refund</a>
                  </li>
                  <li>
                    <a href="#get-refund-info" class="toc-h2 toc-link" data-title="Get refund info">Get refund info</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#webhooks" class="toc-h1 toc-link" data-title="Webhooks">Webhooks</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#message-body" class="toc-h2 toc-link" data-title="Message body">Message body</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#thanks" class="toc-h1 toc-link" data-title="Thanks!">Thanks!</a>
          </li>
      </div>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Welcome to the elopage API.  <a target='blank' href='https://elopagecom.typeform.com/to/IVLKH6'>Please fill out this form to get access to the API.</a></p>

<p>The elopage API is based on REST. To get started and explore as much as possible, you can apply for the API credentials and get both test and live credentials. Live credentials can be accessed via your dashboard. To switch between the test and live environment, simply change the API credentials and the (sub)domain-URL. Our sandbox is run on staging.elopage.com. Requests in the staging environment will never touch the banking networks and will not create costs on your side. You can test Paypal, Sofort, Bank Wire and Credit Card payments.</p>

<p>Be sure to subscribe to our <a target='blank' href='https://elopage.com'>API-updates list</a> to receive updates on changes, additions or deprecations.</p>

<p><b>On the right side you can use sample requests.</b> To go live, make sure to use your API key that is linked to your elopage account.  </p>

<aside class='notice'>To use the API to create sales pages, payment plans and payment sessions, you don’t need to create products via your dashboard on elopage.com. However, make sure to complete registration and legitimate your account before starting your sales. </aside>

<p><b>Which steps have to be completed via elopage.com?</b>
<ul>
<li>Registration and profile creation</li>
<li>Creation and activation of seller account: Imprint, Payment methods activation, General VAT settings</li>
<li>Legitimation process</li>
<li>Refunds (for now only via dashboard, will be added soon)</li>
</ul></p>

<p>Feel free to <a href='mailto:support@elopage.com'>contact us</a> or visit our <a href='http://support.elopage.com' target='blank'>Help Center.</a></p>
<h1 id='authentication'>Authentication</h1>
<p>Authenticate your account by using your secret API key in the request. You can create or renew your API keys in your dashboard settings. Keep your API and secret keys secret. Please do not share your API keys publicly on Github and so forth.</p>

<p>On production you must create requests over HTTPS, otherwise calls will fail. Sandbox requests can be with HTTP.</p>
<h1 id='sandbox'>Sandbox</h1>
<p>Please access our sandbox environment using &#39;http://staging.elopage.com/&#39;. API key and secret for the sandbox environment will be sent to you per email after your approval of your registration to our developer community.</p>

<p>Please fill in the information here to get access to the elopage API.</p>
<h2 id='test-payments-credentials'>Test payments credentials</h2>
<p>Please access our sandbox environment using http://staging.elopage.com/ to test payments. Credentials for test payments will not work on the production environment. For now, we don’t have the option to test payments on production except for real payments.</p>
<h3 id='credit-card'>Credit Card</h3>
<p>The following credit card numbers can be used to test Visa or Mastercard payments.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>CVV</td>
<td>Any 3 digits</td>
</tr>
<tr>
<td>Date</td>
<td>any date in the future, before 2030</td>
</tr>
<tr>
<td>Number</td>
<td>5017670000005900 <br> 5017670000006700 <br> 5017670000007500 <br> 5017670000008300</td>
</tr>
</tbody></table>
<h3 id='sofort-uberweisung-klarna'>Sofort Überweisung (Klarna)</h3>
<p>The following online banking and account credentials can be used to test Sofort Überweisung (Klarna) payments.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Country of your bank</td>
<td>Germany</td>
</tr>
<tr>
<td>Sort code or BIC</td>
<td>88888888</td>
</tr>
<tr>
<td>Account number</td>
<td>234567</td>
</tr>
<tr>
<td>PIN</td>
<td>12345</td>
</tr>
<tr>
<td>TAN</td>
<td>12345</td>
</tr>
</tbody></table>
<h3 id='sepa'>SEPA</h3>
<p>Please use the following payment information to test both instant successful and failed payments. Be aware that the initial payment takes 5 days to process. During that time the payment will have the “pending” status. SEPA payments are available for reseller-type-accounts.</p>

<table><thead>
<tr>
<th>Description</th>
<th>IBAN</th>
</tr>
</thead><tbody>
<tr>
<td>To do an instant successful transaction</td>
<td>DE89370400440532013000</td>
</tr>
<tr>
<td>To do an instant failed transaction</td>
<td>DE62370400440532013001</td>
</tr>
</tbody></table>
<h3 id='paypal'>Paypal</h3>
<p>Please use the following Paypal credentials to test payments on staging. Beware that you do not have an option to check the payment status on a Paypal account (by logging in to Paypal) unless you connect your own Paypal account on production.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Username</td>
<td>info-buyer@elopage.com</td>
</tr>
<tr>
<td>Password</td>
<td>123elopage</td>
</tr>
</tbody></table>

<aside class='notice'>
  NOTE: ACTIVATING PAYMENT METHODS ON PRODUCTION


  On production, please connect your Paypal account in your elopage Account - Settings - Payment methods. Watch video here: <a target='blank' href='https://www.youtube.com/watch?v=qAVf2vlGIHY'=>https://www.youtube.com/watch?v=qAVf2vlGIHY</a>.

  To get paid with Credit Cards, Sofort Überweisung and Bank wire, please activate your elopage payment account under Account - Settings - Payment.
</aside>
<h2 id='best-practice-for-testing'>Best practice for testing</h2>
<p><b>Regardless of sandbox or production testing, we recommend applying the following best practice example for testing payments:</b>
<ol>
  <li>Create a sales page with one or two payment plans, for example a one-time payment option and an installment payment option.</li>
  <li>Get payment link info (URL to access payment page)</li>
  <li>Process a payment for a sales page using one of the payment methods for test credentials</li>
  <li>Get payment info using the Payment ID</li>
</ol></p>

<p><b>Check the following with your payment:</b>
<ol type='a'>
  <li>All customer information (address for example) are correct</li>
  <li>Payment method and amounts incl. VAT are correct</li>
  <li>You received the Invoice_ID and URL to display or send with an email</li>
  <li>Check status of payments: successful, pending, waiting, cancelled or error</li>
</ol></p>

<p>We recommend testing each payment method and status.</p>
<h1 id='sales-page'>Sales Page</h1><h2 id='create-sales-page'>Create sales page</h2>
<blockquote>
<p>Example usage:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
  https://elopage.com/api/sales_pages <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'{
  "key":"{api_key}",
  "secret":"{api_secret}",
  "name":"product name",
  "success_url": "elopage.com",
  "cancel_url": "elopage.com",
  "error_url": "elopage.com",
  "webhook_url": "elopage.com",
  "pricing_plans": [
    {
      "form": "one_time",
      "preferences": {
        "price": "199.9",
        "old_price": "200"
       }
     }
   ],
   "authors": [
      {
        "id": 4,
        "custom_commission_enabled": true,
        "commission": 10
      }
    ],
   "success_email": {
      "subject_de": "test",
      "body_de": "&lt;p&gt;Hallo %{first_name} %{last_name},&lt;/p&gt;\n&lt;p&gt;&lt;br&gt;&lt;/p&gt;\n&lt;p&gt;vielen Dank f&amp;uuml;r die Bestellung.&lt;/p&gt;\n&lt;p&gt;&lt;br&gt;&lt;/p&gt;\n&lt;p&gt;Produktname: %{product_name}&lt;/p&gt;\n&lt;p&gt;Betrag: %{amount}&lt;/p&gt;\n&lt;p&gt;Zahlung: %{recurring_type}&lt;/p&gt;\n&lt;p&gt;&lt;br&gt;&lt;/p&gt;\n&lt;p&gt;Bitte jetzt hier klicken:&lt;/p&gt;\n&lt;p&gt;%{next_button}&lt;/p&gt;\n&lt;p&gt;&lt;br&gt;&lt;/p&gt;\n&lt;p&gt;Sch&amp;ouml;ne Gr&amp;uuml;&amp;szlig;e,&lt;/p&gt;",
      "subject_en": "test",
      "body_en": "&lt;p&gt;Hello %{first_name} %{last_name},&lt;/p&gt;\n&lt;p&gt;&lt;br&gt;&lt;/p&gt;\n&lt;p&gt;thanks for your order.&lt;/p&gt;\n&lt;p&gt;&lt;br&gt;&lt;/p&gt;\n&lt;p&gt;Product name: %{product_name}&lt;/p&gt;\n&lt;p&gt;Amount: %{amount}&lt;/p&gt;\n&lt;p&gt;Plan: %{recurring_type}&lt;/p&gt;\n&lt;p&gt;&lt;br&gt;&lt;/p&gt;\n&lt;p&gt;Now click here:&lt;/p&gt;\n&lt;p&gt;%{next_button}&lt;/p&gt;\n&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;Best regards,&lt;/p&gt;"
   }
}'</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'net/http'</span>
<span class="nb">require</span> <span class="s1">'uri'</span>

<span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">post</span> <span class="no">URI</span><span class="p">(</span><span class="s1">'https://elopage.com/api/sales_pages'</span><span class="p">),</span>
               <span class="p">{</span> <span class="s2">"q"</span> <span class="o">=&gt;</span> <span class="s2">"ruby"</span><span class="p">,</span> <span class="s2">"max"</span> <span class="o">=&gt;</span> <span class="s2">"50"</span><span class="p">,</span>
                 <span class="p">{</span>
                  <span class="s2">"key"</span><span class="ss">:"{api_key}"</span><span class="p">,</span>
                  <span class="s2">"secret"</span><span class="ss">:"{api_secret}"</span><span class="p">,</span>
                  <span class="s2">"name"</span><span class="ss">:"product name"</span><span class="p">,</span>
                  <span class="s2">"success_url"</span><span class="p">:</span> <span class="s2">"{success_url}"</span><span class="p">,</span>
                  <span class="s2">"cancel_url"</span><span class="p">:</span> <span class="s2">"{cancel_url}"</span><span class="p">,</span>
                  <span class="s2">"error_url"</span><span class="p">:</span> <span class="s2">"{error_url}"</span><span class="p">,</span>
                  <span class="s2">"webhook_url"</span><span class="p">:</span> <span class="s2">"{webhook_url}"</span><span class="p">,</span>
                  <span class="s2">"pricing_plans"</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span>
                      <span class="s2">"form"</span><span class="p">:</span> <span class="s2">"one_time"</span><span class="p">,</span>
                      <span class="s2">"preferences"</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">"price"</span><span class="p">:</span> <span class="s2">"199.9"</span><span class="p">,</span>
                        <span class="s2">"old_price"</span><span class="p">:</span> <span class="s2">"200"</span>
                       <span class="p">}</span>
                     <span class="p">}</span>
                   <span class="p">],</span>
                   <span class="s2">"authors"</span><span class="p">:</span> <span class="p">[</span>
                      <span class="p">{</span>
                        <span class="s2">"id"</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
                        <span class="s2">"custom_commission_enabled"</span><span class="p">:</span> <span class="kp">true</span><span class="p">,</span>
                        <span class="s2">"commission"</span><span class="p">:</span> <span class="mi">10</span>
                      <span class="p">}</span>
                    <span class="p">],</span>
                    <span class="s2">"success_email"</span><span class="p">:</span> <span class="p">{</span>
                      <span class="s2">"subject_de"</span><span class="p">:</span> <span class="s2">"test"</span><span class="p">,</span>
                      <span class="s2">"body_de"</span><span class="p">:</span> <span class="s2">"&lt;p&gt;Hallo %{first_name} %{last_name},&lt;/p&gt;
                                  &lt;p&gt;&lt;br&gt;&lt;/p&gt;
                                  &lt;p&gt;vielen Dank f&amp;uuml;r die Bestellung.&lt;/p&gt;
                                  &lt;p&gt;&lt;br&gt;&lt;/p&gt;
                                  &lt;p&gt;Produktname: %{product_name}&lt;/p&gt;
                                  &lt;p&gt;Betrag: %{amount}&lt;/p&gt;
                                  &lt;p&gt;Zahlung: %{recurring_type}&lt;/p&gt;
                                  &lt;p&gt;&lt;br&gt;&lt;/p&gt;
                                  &lt;p&gt;Bitte jetzt hier klicken:&lt;/p&gt;
                                  &lt;p&gt;%{next_button}&lt;/p&gt;
                                  &lt;p&gt;&lt;br&gt;&lt;/p&gt;
                                  &lt;p&gt;Sch&amp;ouml;ne Gr&amp;uuml;&amp;szlig;e,&lt;/p&gt;"</span><span class="p">,</span>
                      <span class="s2">"subject_en"</span><span class="p">:</span> <span class="s2">"test"</span><span class="p">,</span>
                      <span class="s2">"body_en"</span><span class="p">:</span> <span class="s2">"&lt;p&gt;Hello %{first_name} %{last_name},&lt;/p&gt;
                                  &lt;p&gt;&lt;br&gt;&lt;/p&gt;
                                  &lt;p&gt;thanks for your order.&lt;/p&gt;
                                  &lt;p&gt;&lt;br&gt;&lt;/p&gt;
                                  &lt;p&gt;Product name: %{product_name}&lt;/p&gt;
                                  &lt;p&gt;Amount: %{amount}&lt;/p&gt;
                                  &lt;p&gt;Plan: %{recurring_type}&lt;/p&gt;
                                  &lt;p&gt;&lt;br&gt;&lt;/p&gt;
                                  &lt;p&gt;Now click here:&lt;/p&gt;
                                  &lt;p&gt;%{next_button}&lt;/p&gt;
                                  &lt;p&gt;&lt;br&gt;&lt;/p&gt;
                                  &lt;p&gt;Best regards,&lt;/p&gt;"</span>
                      <span class="p">}</span>
                    <span class="p">}</span> <span class="p">}.</span><span class="nf">to_json</span><span class="p">,</span>
                    <span class="s2">"Content-Type"</span> <span class="o">=&gt;</span> <span class="s2">"application/json"</span>
</code></pre>
<blockquote>
<p>Example response:</p>
</blockquote>
<pre class="highlight plaintext"><code>{
    "id": 1087,
    "url_to_pay": "https://elopage.com/s/elopage/product-name-1/payment"
}
</code></pre>
<p>The elopage API allows to initiate and complete payments using optimized checkout interfaces. In order to process payments you first need to create a sales page. After the sales page creation you will receive a &#39;url_to_pay&#39; parameter to which you must redirect your customer to complete payment. Thereafter you need to redirect the customer back to your success URL and pass on parameters and information. Using webhooks (webhook_url), you will get instant notifications about the status of the payment.</p>
<h3 id='post'>POST</h3>
<p><code>https://elopage.com/api/sales_pages</code></p>
<h3 id='parameter'>Parameter</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>secret</td>
<td>String</td>
<td>elopage api_secret which can be generated and found in the sellers dashboard under Settings &gt; Integrations</td>
</tr>
<tr>
<td>key</td>
<td>String</td>
<td>Your personal elopage API key which you can generate in your dashboard: Settings &gt; Integrations</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>What is the customer paying for? Enter a product name, plan name or similar. This name will be visible to your customer during the checkout process.</td>
</tr>
<tr>
<td>success_url</td>
<td>String</td>
<td><b>Success URL</b> to which the customer will be redirected after completing the payment. Important: Updates for payments with payment methods that require time to process (for example Bank Wire / Vorkasse) must be continuously fetched using Payment IDs (payment_id) in order to receive the payment status <b>(/api/payments/:id)</b>.</td>
</tr>
<tr>
<td>cancel_url</td>
<td>String</td>
<td><b>Cancel URL</b> to which your customer is redirected in case of payment process was cancelled by the customer.</td>
</tr>
<tr>
<td>error_url</td>
<td>String</td>
<td><b>Error URL</b> to which your customer is redirected in case of error occurrences during the payment processing (for example bad credit card information, rejected card etc.).</td>
</tr>
<tr>
<td>webhook_url</td>
<td>String</td>
<td>The elopage API sends POST requests to this URL when there are updates related to the payment (for example bank wire payment updates to status successful). Transaction IDs and Payment IDs are included in the POST requests.</td>
</tr>
<tr>
<td>pricing_plans</td>
<td>Array</td>
<td>Array of objects which represent pricing plans of the product (at least one object required): <br> &#39;one_time&#39; example pricing_plan:<br> <code>[{ &quot;form&quot;: &quot;one_time&quot;,</code><br><code>&quot;preferences&quot;:</code><br><code>{ &quot;price&quot;: &quot;199.9&quot;,</code><br><code>&quot;old_price&quot;: &quot;200&quot; } }]</code><br> &#39;subscription&#39; example pricing_plan: <br><code>[{ &quot;form&quot;: &quot;subscription&quot;,</code><br><code>&quot;preferences&quot;:</code><br><code>{ &quot;first_interval&quot;: &quot;1w&quot;,</code><br><code>&quot;first_amount&quot;: &quot;20.0&quot;,</code><br><code>&quot;next_interval&quot;: &quot;1m&quot;,</code><br><code>&quot;next_amount&quot;: &quot;10.0&quot; } }]</code><br> &#39;split&#39; example (installment) pricing_plan:<br> <code>[{ &quot;form&quot;: &quot;split&quot;,</code><br><code>&quot;preferences&quot;:</code><br><code>{ &quot;p_count&quot;: &quot;5&quot;,</code><br><code>&quot;first_interval&quot;: &quot;1w&quot;,</code><br><code>&quot;first_amount&quot;: &quot;20.0&quot;,</code><br><code>&quot;next_interval&quot;: &quot;1m&quot;,</code><br><code>&quot;next_amount&quot;: &quot;10.0&quot;,</code><br><code>&quot;splitting_type&quot;: &quot;installment&quot; } }]</code><br> &#39;split&#39; example (limited_subscription) pricing_plan:<br> <code>[{ &quot;form&quot;: &quot;split&quot;,</code><br><code>&quot;preferences&quot;:</code><br><code>{ &quot;p_count&quot;: &quot;5&quot;,</code><br><code>&quot;first_interval&quot;: &quot;1w&quot;,</code><br><code>&quot;first_amount&quot;: &quot;20.0&quot;,</code><br><code>&quot;next_interval&quot;: &quot;1m&quot;,</code><br><code>&quot;next_amount&quot;: &quot;10.0&quot;,</code><br><code>&quot;splitting_type&quot;: &quot;limited_subscription&quot; } }]</code><br> <span style='background-color: lightpink'>Note: Per sales page you are allowed to use maximum 5 pricing plans </span>.</td>
</tr>
<tr>
<td>&nbsp;&nbsp; form</td>
<td>String</td>
<td>Allowed values: <code>&quot;one_time&quot;</code>, <code>&quot;subscription&quot;</code>, <code>&quot;split&quot;</code></td>
</tr>
<tr>
<td>&nbsp;&nbsp; preferences</td>
<td>Object</td>
<td>Apply different intervals for pricing plans with subscription and installments.</td>
</tr>
<tr>
<td>&nbsp;&nbsp;&nbsp;&nbsp; price</td>
<td>Decimal</td>
<td>price by current pricing plan (only for one_time pricing plan)</td>
</tr>
<tr>
<td>&nbsp;&nbsp;&nbsp;&nbsp; old_price</td>
<td>Decimal</td>
<td>old product price (only for one_time pricing plan)</td>
</tr>
<tr>
<td>&nbsp;&nbsp;&nbsp;&nbsp; p_count</td>
<td>Integer</td>
<td>total count of payments (required for pricing plan form: split)</td>
</tr>
<tr>
<td>&nbsp;&nbsp;&nbsp;&nbsp; first_interval</td>
<td>String</td>
<td>first payment interval (required for pricing plan form: subscription/split), possible values: <code>‘1w’, ‘2w’, ‘3w’, ‘1m’, ‘2m’, ‘3m’, ‘6m’, ‘1y’, ‘2y’</code></td>
</tr>
<tr>
<td>&nbsp;&nbsp;&nbsp;&nbsp; first_amount</td>
<td>Decimal</td>
<td>first payment amount (required for pricing plan form: subscription/split)</td>
</tr>
<tr>
<td>&nbsp;&nbsp;&nbsp;&nbsp; next_interval</td>
<td>String</td>
<td>next payment interval startdate (required for pricing plan form: subscription/split), possible values: <code>‘1w’, ‘2w’, ‘3w’, ‘1m’, ‘2m’, ‘3m’, ‘6m’, ‘1y’, ‘2y’</code></td>
</tr>
<tr>
<td>&nbsp;&nbsp;&nbsp;&nbsp; next_amount</td>
<td>Decimal</td>
<td>next payment amount (required for pricing plan form: subscription/split)</td>
</tr>
<tr>
<td>&nbsp;&nbsp;&nbsp;&nbsp; splitting_type</td>
<td>String</td>
<td>splitting type (required for pricing plan form: split); notes: &quot;installment&quot; - <b>One invoice for the entire amount will be issued</b>, &quot;limited_subscription&quot; - <b>For each payment a new invoice will be issued</b> <br> Allowed values: <code>[&quot;installment&quot;, &quot;limited_subscription&quot;]</code></td>
</tr>
<tr>
<td>Authors</td>
<td>Array</td>
<td>Array of objects which represent the authors, that will be connected to the sales page</td>
</tr>
<tr>
<td>&nbsp;&nbsp; id</td>
<td>Integer</td>
<td>ID of the author, which you want to connect to the sales page (IDs of authors can be found in your dashboard under Team Members)</td>
</tr>
<tr>
<td>&nbsp;&nbsp; c_c_enabled</td>
<td>Boolean</td>
<td>Pass &#39;true&#39; here if you want to overwrite general commission with this one, you should pass &#39;commission&#39; for it to take effect</td>
</tr>
<tr>
<td>&nbsp;&nbsp; commission</td>
<td>Integer</td>
<td>Field which represents the commisison of author, measured in %</td>
</tr>
<tr>
<td>forward</td>
<td>Object</td>
<td><a href="http://blog.elopage.com/hilfebereich/was-bedeutet-die-url-parameter-weiterleitung/">we can forward params with url_to_pay to prefill payment form, check this blog</a></td>
</tr>
<tr>
<td>&nbsp;&nbsp; first_name</td>
<td>String</td>
<td>first name of customer</td>
</tr>
<tr>
<td>&nbsp;&nbsp; last_name</td>
<td>String</td>
<td>last name of customer</td>
</tr>
<tr>
<td>&nbsp;&nbsp; email</td>
<td>String</td>
<td>email of customer</td>
</tr>
<tr>
<td>&nbsp;&nbsp; coupon</td>
<td>String</td>
<td>coupon code to be applied automatically</td>
</tr>
<tr>
<td>&nbsp;&nbsp; campaign_id</td>
<td>String</td>
<td>campaign IDs can be freely added</td>
</tr>
<tr>
<td>success_email</td>
<td>Object</td>
<td>Payment confirmation or success email object contains data for the creation of custom emails which is automatically sent to the customer after successful payment. If success_email is not specified, elopage is sending out the standard email template which you can check in the product settings on elopage. For API usage, we do not recommend the usage of the standard template. Please customize your success email.  In the custom email you have the option to add your own email body using html in body_en for the English version and body_de for the German version. In addition, you can add several variables that will be replaced automatically with your customers or purchase information: First name of customer <code>first_name</code>, last name <code>last_name</code>, name of the product <code>product_name</code>, price paid amount and recurring payment type <code>recurring_type</code>.</td>
</tr>
<tr>
<td>&nbsp;&nbsp; subject_en</td>
<td>String</td>
<td>Subject of email in English</td>
</tr>
<tr>
<td>&nbsp;&nbsp; subject_de</td>
<td>String</td>
<td>Subject of email in German</td>
</tr>
<tr>
<td>&nbsp;&nbsp; body_en</td>
<td>String</td>
<td>Body of email in English</td>
</tr>
<tr>
<td>&nbsp;&nbsp; body_de</td>
<td>String</td>
<td>Body of email in German</td>
</tr>
</tbody></table>
<h3 id='success-200'>Success 200</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Number</td>
<td>Sales page ID.</td>
</tr>
<tr>
<td>url_to_pay</td>
<td>String</td>
<td>Sales page URL to which customer must be redirected</td>
</tr>
</tbody></table>
<h3 id='error-4xx'>Error 4xx</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>NoAccessRight</td>
<td>Only authenticated sellers can access the data.</td>
</tr>
<tr>
<td>UserNotFound</td>
<td>The key of the user was not found.</td>
</tr>
</tbody></table>
<h2 id='get-sales-pages'>Get sales pages</h2>
<p>Fetch sales pages and all relevant information such as product name, pricing plans, authors and more.</p>

<blockquote>
<p>Example usage:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X GET -H <span class="s2">"Content-Type: application/json"</span> <span class="s2">"https://elopage.com/api/sales_pages/{id}?key={api_key}&amp;secret={api_secret}"</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'net/http'</span>
<span class="nb">require</span> <span class="s1">'uri'</span>

<span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="no">URI</span><span class="p">(</span><span class="s1">'https://elopage.com/api/sales_pages/{id}?key={api_key}&amp;secret={api_secret}'</span><span class="p">))</span>
</code></pre>
<blockquote>
<p>Example resppnse:</p>
</blockquote>
<pre class="highlight plaintext"><code>{
    "name": "product name",
    "url_to_pay": "https://elopage.com/s/elopage/product-name-1/payment",
    "success_url": "http://elopage.com",
    "cancel_url": "elopage.com",
    "error_url": "elopage.com",
    "webhook_url": "elopage.com",
    "free": false,
    "pricing_plans": [
        {
            id: "1",
            "form": "one_time",
            "preferences": {
                "price": "199.9",
                "old_price": "200.0"
            }
        }
    ],
    "authors": [
      {
          "author_id": 4,
          "c_c_enabled": true,
          "commission": "10.0"
      }
    ]
}
</code></pre><h3 id='get'>GET</h3>
<p><code>https://elopage.com/api/sales_pages/:id</code></p>
<h3 id='parameter-2'>Parameter</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>secret</td>
<td>String</td>
<td>elopage api_secret which can be generated and found in the sellers dashboard under Settings &gt; Integrations</td>
</tr>
<tr>
<td>key</td>
<td>String</td>
<td>Your personal elopage API key, you can find or generate them inside your elopage cabinet: Settings &gt; Integrations</td>
</tr>
<tr>
<td>id</td>
<td>Number</td>
<td>Sales page ID</td>
</tr>
</tbody></table>
<h3 id='success-200-2'>Success 200</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>url_to_pay</td>
<td>String</td>
<td>Sales page URL to which customer must be redirected</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>What is the customer paying for? Enter a product name, plan name or similar. This name will be visible to your customer during the checkout process.</td>
</tr>
<tr>
<td>price</td>
<td>Decimal</td>
<td>The final price or amount you want to charge your customer incl. taxes, fees etc.</td>
</tr>
<tr>
<td>free</td>
<td>Boolean</td>
<td>Sales page for a free product</td>
</tr>
<tr>
<td>success_url</td>
<td>String</td>
<td><b>Success URL</b> to which the customer will be redirected after completing the payment. Important: Updates for payments with payment methods that require time to process (for example Bank Wire / Vorkasse) must be continuously fetched using Payment IDs (payment_id) in order to receive the payment status <b>(/api/payments/:id)</b>.</td>
</tr>
<tr>
<td>cancel_url</td>
<td>String</td>
<td><b>Cancel URL</b> to which your customer is redirected in case of payment process was cancelled by the customer.</td>
</tr>
<tr>
<td>error_url</td>
<td>String</td>
<td><b>Error URL</b> to which your customer is redirected in case of error occurrences during the payment processing (for example bad credit card information, rejected card etc.).</td>
</tr>
<tr>
<td>webhook_url</td>
<td>String</td>
<td>elopage API sends POST request to this URL if payment for payment of product/name changes status to successful (e.g. bank wire updates).</td>
</tr>
<tr>
<td>pricing_plans</td>
<td>Array</td>
<td>Array of objects which represents pricing plans of the product (at least one object required)</td>
</tr>
<tr>
<td>&nbsp;&nbsp;ID</td>
<td>Integer</td>
<td>ID of the pricing plan</td>
</tr>
<tr>
<td>&nbsp;&nbsp;form</td>
<td>String</td>
<td>Allowed values: <code>&quot;one_time&quot;, &quot;subscription&quot;, &quot;split&quot;</code></td>
</tr>
<tr>
<td>&nbsp;&nbsp;preferences</td>
<td>Object</td>
<td>Apply different intervals for pricing plans with subscription and installments.</td>
</tr>
<tr>
<td>&nbsp;&nbsp;&nbsp;&nbsp;price</td>
<td>Decimal</td>
<td>price by current pricing plan</td>
</tr>
<tr>
<td>&nbsp;&nbsp;&nbsp;&nbsp;old_price</td>
<td>Decimal</td>
<td>old product price</td>
</tr>
<tr>
<td>&nbsp;&nbsp;&nbsp;&nbsp;p_count</td>
<td>Integer</td>
<td>total count of payments (required for pricing plan form: split)</td>
</tr>
<tr>
<td>&nbsp;&nbsp;&nbsp;&nbsp;first_interval</td>
<td>String</td>
<td>first payment interval (required for pricing plan form: subscription/split), possible values: <code>‘1w’, ‘2w’, ‘3w’, ‘1m’, ‘2m’, ‘3m’, ‘6m’, ‘1y’, ‘2y’</code></td>
</tr>
<tr>
<td>&nbsp;&nbsp;&nbsp;&nbsp;first_amount</td>
<td>Decimal</td>
<td>first payment amount (required for pricing plan form: subscription/split)</td>
</tr>
<tr>
<td>&nbsp;&nbsp;&nbsp;&nbsp;next_interval</td>
<td>String</td>
<td>next payment interval startdate (required for pricing plan form: subscription/split), possible values: <code>‘1w’, ‘2w’, ‘3w’, ‘1m’, ‘2m’, ‘3m’, ‘6m’, ‘1y’, ‘2y’</code></td>
</tr>
<tr>
<td>&nbsp;&nbsp;&nbsp;&nbsp;next_amount</td>
<td>Decimal</td>
<td>next payment amount (required for pricing plan form: subscription/split)</td>
</tr>
<tr>
<td>&nbsp;&nbsp;&nbsp;&nbsp;splitting_type</td>
<td>String</td>
<td>splitting type (required for pricing plan form: split); notes: &quot;installment&quot; - <b>One invoice for the entire amount will be issued</b>, &quot;limited_subscription&quot; - <b>For each payment a new invoice will be issued</b> <br> Allowed values: <code>[&quot;installment&quot;, &quot;limited_subscription&quot;]</code></td>
</tr>
<tr>
<td>Authors</td>
<td>Array</td>
<td>Array of objects which represent the authors, that will be connected to the sales page</td>
</tr>
<tr>
<td>&nbsp;&nbsp; id</td>
<td>Integer</td>
<td>ID of the author, which you want to connect to the sales page (IDs of authors can be found in your dashboard under Team Members)</td>
</tr>
<tr>
<td>&nbsp;&nbsp; c_c_enabled</td>
<td>Boolean</td>
<td>Pass &#39;true&#39; here if you want to overwrite general commission with this one, you should pass &#39;commission&#39; for it to take effect</td>
</tr>
<tr>
<td>&nbsp;&nbsp; commission</td>
<td>Integer</td>
<td>Field which represents the commisison of author, measured in %</td>
</tr>
</tbody></table>
<h3 id='error-4xx-2'>Error 4xx</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>NoAccessRight</td>
<td>Only authenticated sellers can access the data.</td>
</tr>
<tr>
<td>UserNotFound</td>
<td>The key of the user was not found.</td>
</tr>
</tbody></table>
<h2 id='update-sales-page'>Update sales page</h2>
<blockquote>
<p>Example usage:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X PUT <span class="se">\</span>
  https://elopage.com/api/sales_pages/1115 <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'{
  "key":"{api_key}",
  "secret":"{api_secret}",
  "name":"product name",
  "success_url": "elopage.com",
  "cancel_url": "elopage.com",
  "error_url": "elopage.com",
  "webhook_url": "elopage.com",
    "pricing_plans": [
        {
            "id": 1340,
            "form": "one_time",
            "preferences": {
                "price": "220",
                "old_price": "200.0"
            }
        }
    ],
   "success_email": {
      "subject_de": "test",
      "body_de": "&lt;p&gt;Hallo %{first_name} %{last_name},&lt;/p&gt;\n&lt;p&gt;&lt;br&gt;&lt;/p&gt;\n&lt;p&gt;vielen Dank f&amp;uuml;r die Bestellung.&lt;/p&gt;\n&lt;p&gt;&lt;br&gt;&lt;/p&gt;\n&lt;p&gt;Produktname: %{product_name}&lt;/p&gt;\n&lt;p&gt;Betrag: %{amount}&lt;/p&gt;\n&lt;p&gt;Zahlung: %{recurring_type}&lt;/p&gt;\n&lt;p&gt;&lt;br&gt;&lt;/p&gt;\n&lt;p&gt;Bitte jetzt hier klicken:&lt;/p&gt;\n&lt;p&gt;%{next_button}&lt;/p&gt;\n&lt;p&gt;&lt;br&gt;&lt;/p&gt;\n&lt;p&gt;Sch&amp;ouml;ne Gr&amp;uuml;&amp;szlig;e,&lt;/p&gt;",
      "subject_en": "test",
      "body_en": "&lt;p&gt;Hello %{first_name} %{last_name},&lt;/p&gt;\n&lt;p&gt;&lt;br&gt;&lt;/p&gt;\n&lt;p&gt;thanks for your order.&lt;/p&gt;\n&lt;p&gt;&lt;br&gt;&lt;/p&gt;\n&lt;p&gt;Product name: %{product_name}&lt;/p&gt;\n&lt;p&gt;Amount: %{amount}&lt;/p&gt;\n&lt;p&gt;Plan: %{recurring_type}&lt;/p&gt;\n&lt;p&gt;&lt;br&gt;&lt;/p&gt;\n&lt;p&gt;Now click here:&lt;/p&gt;\n&lt;p&gt;%{next_button}&lt;/p&gt;\n&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;Best regards,&lt;/p&gt;"
   }
}'</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://elopage.com/api/sales_pages/1115"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Put</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"content-type"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'application/json'</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">"key"</span><span class="ss">:"{api_key}"</span><span class="p">,</span>
                <span class="s2">"secret"</span><span class="ss">:"{api_secret}"</span><span class="p">,</span>
                <span class="s2">"name"</span><span class="ss">:"product name"</span><span class="p">,</span>
                <span class="s2">"success_url"</span><span class="p">:</span> <span class="s2">"elopage.com"</span><span class="p">,</span>
                <span class="s2">"cancel_url"</span><span class="p">:</span> <span class="s2">"elopage.com"</span><span class="p">,</span>
                <span class="s2">"error_url"</span><span class="p">:</span> <span class="s2">"elopage.com"</span><span class="p">,</span>
                <span class="s2">"webhook_url"</span><span class="p">:</span> <span class="s2">"elopage.com"</span><span class="p">,</span>
                <span class="s2">"pricing_plans"</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span>
                        <span class="s2">"id"</span><span class="p">:</span> <span class="mi">1340</span><span class="p">,</span>
                        <span class="s2">"form"</span><span class="p">:</span> <span class="s2">"one_time"</span><span class="p">,</span>
                        <span class="s2">"preferences"</span><span class="p">:</span> <span class="p">{</span>
                            <span class="s2">"price"</span><span class="p">:</span> <span class="s2">"220"</span><span class="p">,</span>
                            <span class="s2">"old_price"</span><span class="p">:</span> <span class="s2">"200.0"</span>
                        <span class="p">}</span>
                    <span class="p">}</span>
                 <span class="p">],</span>
                 <span class="s2">"success_email"</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">"subject_de"</span><span class="p">:</span> <span class="s2">"test"</span><span class="p">,</span>
                    <span class="s2">"body_de"</span><span class="p">:</span> <span class="s2">"&lt;p&gt;Hallo %{first_name} %{last_name},&lt;/p&gt;</span><span class="se">\n</span><span class="s2">&lt;p&gt;&lt;br&gt;&lt;/p&gt;</span><span class="se">\n</span><span class="s2">&lt;p&gt;vielen Dank f&amp;uuml;r die Bestellung.&lt;/p&gt;</span><span class="se">\n</span><span class="s2">&lt;p&gt;&lt;br&gt;&lt;/p&gt;</span><span class="se">\n</span><span class="s2">&lt;p&gt;Produktname: %{product_name}&lt;/p&gt;</span><span class="se">\n</span><span class="s2">&lt;p&gt;Betrag: %{amount}&lt;/p&gt;</span><span class="se">\n</span><span class="s2">&lt;p&gt;Zahlung: %{recurring_type}&lt;/p&gt;</span><span class="se">\n</span><span class="s2">&lt;p&gt;&lt;br&gt;&lt;/p&gt;</span><span class="se">\n</span><span class="s2">&lt;p&gt;Bitte jetzt hier klicken:&lt;/p&gt;</span><span class="se">\n</span><span class="s2">&lt;p&gt;%{next_button}&lt;/p&gt;</span><span class="se">\n</span><span class="s2">&lt;p&gt;&lt;br&gt;&lt;/p&gt;</span><span class="se">\n</span><span class="s2">&lt;p&gt;Sch&amp;ouml;ne Gr&amp;uuml;&amp;szlig;e,&lt;/p&gt;"</span><span class="p">,</span>
                    <span class="s2">"subject_en"</span><span class="p">:</span> <span class="s2">"test"</span><span class="p">,</span>
                    <span class="s2">"body_en"</span><span class="p">:</span> <span class="s2">"&lt;p&gt;Hello %{first_name} %{last_name},&lt;/p&gt;</span><span class="se">\n</span><span class="s2">&lt;p&gt;&lt;br&gt;&lt;/p&gt;</span><span class="se">\n</span><span class="s2">&lt;p&gt;thanks for your order.&lt;/p&gt;</span><span class="se">\n</span><span class="s2">&lt;p&gt;&lt;br&gt;&lt;/p&gt;</span><span class="se">\n</span><span class="s2">&lt;p&gt;Product name: %{product_name}&lt;/p&gt;</span><span class="se">\n</span><span class="s2">&lt;p&gt;Amount: %{amount}&lt;/p&gt;</span><span class="se">\n</span><span class="s2">&lt;p&gt;Plan: %{recurring_type}&lt;/p&gt;</span><span class="se">\n</span><span class="s2">&lt;p&gt;&lt;br&gt;&lt;/p&gt;</span><span class="se">\n</span><span class="s2">&lt;p&gt;Now click here:&lt;/p&gt;</span><span class="se">\n</span><span class="s2">&lt;p&gt;%{next_button}&lt;/p&gt;</span><span class="se">\n</span><span class="s2">&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;Best regards,&lt;/p&gt;"</span>
                 <span class="p">}</span>
                <span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>

</code></pre>
<blockquote>
<p>Example response:</p>
</blockquote>
<pre class="highlight plaintext"><code>{
    "id": 1087,
    "url_to_pay": "https://elopage.com/s/elopage/product-name-1/payment"
}
</code></pre>
<p>The elopage API allows creating sales pages. To change or update the sales page information like price or name, please use put actions.</p>
<h3 id='put'>PUT</h3>
<p><code>https://elopage.com/api/sales_pages/:id</code></p>
<h3 id='parameter-3'>Parameter</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>secret</td>
<td>String</td>
<td>elopage api_secret which can be generated and found in the sellers dashboard under Settings &gt; Integrations</td>
</tr>
<tr>
<td>key</td>
<td>String</td>
<td>Your personal elopage API key which you can generate in your dashboard: Settings &gt; Integrations</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>What is the customer paying for? Enter a product name, plan name or similar. This name will be visible to your customer during the checkout process.</td>
</tr>
<tr>
<td>success_url</td>
<td>String</td>
<td><b>Success URL</b> to which the customer will be redirected after completing the payment. Important: Updates for payments with payment methods that require time to process (for example Bank Wire / Vorkasse) must be continuously fetched using Payment IDs (payment_id) in order to receive the payment status <b>(/api/payments/:id)</b>.</td>
</tr>
<tr>
<td>cancel_url</td>
<td>String</td>
<td><b>Cancel URL</b> to which your customer is redirected in case of payment process was cancelled by the customer.</td>
</tr>
<tr>
<td>error_url</td>
<td>String</td>
<td><b>Error URL</b> to which your customer is redirected in case of error occurrences during the payment processing (for example bad credit card information, rejected card etc.).</td>
</tr>
<tr>
<td>webhook_url</td>
<td>String</td>
<td>The elopage API sends POST requests to this URL when there are updates related to the payment (for example bank wire payment updates to status successful). Transaction IDs and Payment IDs are included in the POST requests.</td>
</tr>
<tr>
<td>pricing_plans</td>
<td>Array</td>
<td>Array of objects which represent pricing plans of the product (at least one object required): <br> &#39;one_time&#39; example pricing_plan:<br> <code>[{ &quot;form&quot;: &quot;one_time&quot;,</code><br><code>&quot;preferences&quot;:</code><br><code>{ &quot;price&quot;: &quot;199.9&quot;,</code><br><code>&quot;old_price&quot;: &quot;200&quot; } }]</code><br> &#39;subscription&#39; example pricing_plan: <br><code>[{ &quot;form&quot;: &quot;subscription&quot;,</code><br><code>&quot;preferences&quot;:</code><br><code>{ &quot;first_interval&quot;: &quot;1w&quot;,</code><br><code>&quot;first_amount&quot;: &quot;20.0&quot;,</code><br><code>&quot;next_interval&quot;: &quot;1m&quot;,</code><br><code>&quot;next_amount&quot;: &quot;10.0&quot; } }]</code><br> &#39;split&#39; example (installment) pricing_plan:<br> <code>[{ &quot;form&quot;: &quot;split&quot;,</code><br><code>&quot;preferences&quot;:</code><br><code>{ &quot;p_count&quot;: &quot;5&quot;,</code><br><code>&quot;first_interval&quot;: &quot;1w&quot;,</code><br><code>&quot;first_amount&quot;: &quot;20.0&quot;,</code><br><code>&quot;next_interval&quot;: &quot;1m&quot;,</code><br><code>&quot;next_amount&quot;: &quot;10.0&quot;,</code><br><code>&quot;splitting_type&quot;: &quot;installment&quot; } }]</code><br> &#39;split&#39; example (limited_subscription) pricing_plan:<br> <code>[{ &quot;form&quot;: &quot;split&quot;,</code><br><code>&quot;preferences&quot;:</code><br><code>{ &quot;p_count&quot;: &quot;5&quot;,</code><br><code>&quot;first_interval&quot;: &quot;1w&quot;,</code><br><code>&quot;first_amount&quot;: &quot;20.0&quot;,</code><br><code>&quot;next_interval&quot;: &quot;1m&quot;,</code><br><code>&quot;next_amount&quot;: &quot;10.0&quot;,</code><br><code>&quot;splitting_type&quot;: &quot;limited_subscription&quot; } }]</code><br> <span style='background-color: lightpink'>Note: Per sales page you are allowed to use maximum 5 pricing plans </span>.</td>
</tr>
<tr>
<td>&nbsp;&nbsp; ID</td>
<td>Integer</td>
<td>ID of the pricing plan you want to edit</td>
</tr>
<tr>
<td>&nbsp;&nbsp; form</td>
<td>String</td>
<td>Allowed values: <code>&quot;one_time&quot;</code>, <code>&quot;subscription&quot;</code>, <code>&quot;split&quot;</code></td>
</tr>
<tr>
<td>&nbsp;&nbsp; preferences</td>
<td>Object</td>
<td>Apply different intervals for pricing plans with subscription and installments.</td>
</tr>
<tr>
<td>&nbsp;&nbsp;&nbsp;&nbsp; price</td>
<td>Decimal</td>
<td>price by current pricing plan (only for one_time pricing plan)</td>
</tr>
<tr>
<td>&nbsp;&nbsp;&nbsp;&nbsp; old_price</td>
<td>Decimal</td>
<td>old product price (only for one_time pricing plan)</td>
</tr>
<tr>
<td>&nbsp;&nbsp;&nbsp;&nbsp; p_count</td>
<td>Integer</td>
<td>total count of payments (required for pricing plan form: split)</td>
</tr>
<tr>
<td>&nbsp;&nbsp;&nbsp;&nbsp; first_interval</td>
<td>String</td>
<td>first payment interval (required for pricing plan form: subscription/split), possible values: <code>‘1w’, ‘2w’, ‘3w’, ‘1m’, ‘2m’, ‘3m’, ‘6m’, ‘1y’, ‘2y’</code></td>
</tr>
<tr>
<td>&nbsp;&nbsp;&nbsp;&nbsp; first_amount</td>
<td>Decimal</td>
<td>first payment amount (required for pricing plan form: subscription/split)</td>
</tr>
<tr>
<td>&nbsp;&nbsp;&nbsp;&nbsp; next_interval</td>
<td>String</td>
<td>next payment interval startdate (required for pricing plan form: subscription/split), possible values: <code>‘1w’, ‘2w’, ‘3w’, ‘1m’, ‘2m’, ‘3m’, ‘6m’, ‘1y’, ‘2y’</code></td>
</tr>
<tr>
<td>&nbsp;&nbsp;&nbsp;&nbsp; next_amount</td>
<td>Decimal</td>
<td>next payment amount (required for pricing plan form: subscription/split)</td>
</tr>
<tr>
<td>&nbsp;&nbsp;&nbsp;&nbsp; splitting_type</td>
<td>String</td>
<td>splitting type (required for pricing plan form: split); notes: &quot;installment&quot; - <b> One invoice for the entire amount will be issued </b>, &quot;limited_subscription&quot; - <b>For each payment a new invoice will be issued</b> <br>Allowed values: <code>[&quot;installment&quot;, &quot;limited_subscription&quot;]</code></td>
</tr>
<tr>
<td>Authors</td>
<td>Array</td>
<td>Array of objects which represent the authors, that will be connected to the sales page</td>
</tr>
<tr>
<td>&nbsp;&nbsp; id</td>
<td>Integer</td>
<td>ID of the author, which you want to connect to the sales page (IDs of authors can be found in your dashboard under Team Members)</td>
</tr>
<tr>
<td>&nbsp;&nbsp; c_c_enabled</td>
<td>Boolean</td>
<td>Pass &#39;true&#39; here if you want to overwrite general commission with this one, you should pass &#39;commission&#39; for it to take effect</td>
</tr>
<tr>
<td>&nbsp;&nbsp; commission</td>
<td>Integer</td>
<td>Field which represents the commisison of author, measured in %</td>
</tr>
<tr>
<td>forward</td>
<td>Object</td>
<td><a href="http://blog.elopage.com/hilfebereich/was-bedeutet-die-url-parameter-weiterleitung/">we can forward params with url_to_pay to prefill payment form, check this blog</a></td>
</tr>
<tr>
<td>&nbsp;&nbsp; first_name</td>
<td>String</td>
<td>first name of customer</td>
</tr>
<tr>
<td>&nbsp;&nbsp; last_name</td>
<td>String</td>
<td>last name of customer</td>
</tr>
<tr>
<td>&nbsp;&nbsp; email</td>
<td>String</td>
<td>email of customer</td>
</tr>
<tr>
<td>&nbsp;&nbsp; coupon</td>
<td>String</td>
<td>coupon code to be applied automatically</td>
</tr>
<tr>
<td>&nbsp;&nbsp; campaign_id</td>
<td>String</td>
<td>campaign IDs can be freely added</td>
</tr>
<tr>
<td>success_email</td>
<td>Object</td>
<td>Payment confirmation or success email object contains data for the creation of custom emails which is automatically sent to the customer after successful payment. If success_email is not specified, elopage is sending out the standard email template which you can check in the product settings on elopage. For API usage, we do not recommend the usage of the standard template. Please customize your success email.  In the custom email you have the option to add your own email body using html in body_en for the English version and body_de for the German version. In addition, you can add several variables that will be replaced automatically with your customers or purchase information: First name of customer <code>first_name</code>, last name <code>last_name</code>, name of the product <code>product_name</code>, price paid amount and recurring payment type <code>recurring_type</code>.</td>
</tr>
<tr>
<td>&nbsp;&nbsp; subject_en</td>
<td>String</td>
<td>Subject of email in English</td>
</tr>
<tr>
<td>&nbsp;&nbsp; subject_de</td>
<td>String</td>
<td>Subject of email in German</td>
</tr>
<tr>
<td>&nbsp;&nbsp; body_en</td>
<td>String</td>
<td>Body of email in English</td>
</tr>
<tr>
<td>&nbsp;&nbsp; body_de</td>
<td>String</td>
<td>Body of email in German</td>
</tr>
</tbody></table>
<h3 id='success-200-3'>Success 200</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Number</td>
<td>Sales page ID.</td>
</tr>
<tr>
<td>url_to_pay</td>
<td>String</td>
<td>Sales page URL to which customer must be redirected</td>
</tr>
</tbody></table>
<h3 id='error-4xx-3'>Error 4xx</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>NoAccessRight</td>
<td>Only authenticated sellers can access the data.</td>
</tr>
<tr>
<td>UserNotFound</td>
<td>The key of the user was not found.</td>
</tr>
</tbody></table>
<h1 id='pricing-plans'>Pricing plans</h1>
<p>Pricing plans are created during the creation of sales. In addition, you can create pricing plans separately, view them and delete pricing plans. elopage pricing plans allow the setup of multiple options such as time-limited subscriptions, installment payments and one time payments. Furthermore you can create and attach up to 5 pricing plans for one sales page.</p>
<h2 id='get-pricing-plan'>Get pricing plan</h2>
<blockquote>
<p>Example usage:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X GET -H <span class="s1">'https://elopage.com/api/pricing_plans/{id}?key={api_key}&amp;secret={api_secret}'</span>
</code></pre><pre class="highlight ruby tab-ruby"><code>  <span class="nb">require</span> <span class="s1">'uri'</span>
  <span class="nb">require</span> <span class="s1">'net/http'</span>

  <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="no">URI</span><span class="p">(</span><span class="s2">"https://elopage.com/api/pricing_plans/{id}?key={api_key}&amp;secret={api_secret}"</span><span class="p">))</span>
</code></pre>
<blockquote>
<p>Example response:</p>
</blockquote>
<pre class="highlight plaintext"><code>{
    "id": 1306,
    "form": "one_time",
    "preferences": {
        "price": "199.9",
        "old_price": "200.0"
    }
}
</code></pre>
<p>Fetch pricing plan information by ID to get all relevant information about your pricing plan such as prices, intervals and splitting type.</p>
<h3 id='get-2'>GET</h3>
<p><code>https://elopage.com/api/pricing_plans/:id</code></p>
<h3 id='parameter-4'>Parameter</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>secret</td>
<td>String</td>
<td>elopage api_secret which can be generated and found in your dashboard under Settings &gt; Integrations</td>
</tr>
<tr>
<td>key</td>
<td>String</td>
<td>Your personal elopage API key which you can generate in your dashboard: Settings &gt; Integrations</td>
</tr>
<tr>
<td>id</td>
<td>Number</td>
<td>Pricing plan ID is sent with the get sales page request.</td>
</tr>
</tbody></table>
<h3 id='success-200-4'>Success 200</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Integer</td>
<td>Pricing plan id</td>
</tr>
<tr>
<td>form</td>
<td>String</td>
<td>Allowed values: <code>&quot;one_time&quot;, &quot;subscription&quot;, &quot;split&quot;</code></td>
</tr>
<tr>
<td>preferences</td>
<td>Object</td>
<td>Apply different intervals for pricing plans with subscription and installments.&nbsp;&nbsp;price</td>
</tr>
<tr>
<td>&nbsp;&nbsp;old_price</td>
<td>Decimal</td>
<td>old product price</td>
</tr>
<tr>
<td>&nbsp;&nbsp;p_count</td>
<td>Integer</td>
<td>total count of payments (required for pricing plan form: split)</td>
</tr>
<tr>
<td>&nbsp;&nbsp;first_interval</td>
<td>String</td>
<td>first payment interval (required for pricing plan form: subscription/split)</td>
</tr>
<tr>
<td>&nbsp;&nbsp;first_amount</td>
<td>Decimal</td>
<td>first payment amount (required for pricing plan form: subscription/split)</td>
</tr>
<tr>
<td>&nbsp;&nbsp;next_interval</td>
<td>String</td>
<td>next payment interval startdate (required for pricing plan form: subscription/split)</td>
</tr>
<tr>
<td>&nbsp;&nbsp;next_amount</td>
<td>Decimal</td>
<td>next payment amount (required for pricing plan form: subscription/split)</td>
</tr>
<tr>
<td>&nbsp;&nbsp;splitting_type</td>
<td>String</td>
<td>splitting type (required for pricing plan form: split); notes: &quot;installment&quot; - <b>One invoice for the entire amount will be issued</b>, &quot;limited_subscription&quot; - <b>For each payment a new invoice will be issued </b> <br> Allowed values: <code>[&quot;installment&quot;, &quot;limited_subscription&quot;]</code></td>
</tr>
</tbody></table>
<h3 id='error-4xx-4'>Error 4xx</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>NoAccessRight</td>
<td>Only authenticated sellers can access the data.</td>
</tr>
<tr>
<td>UserNotFound</td>
<td>The key of the user was not found.</td>
</tr>
</tbody></table>
<h2 id='create-pricing-plan'>Create pricing plan</h2>
<p>Create pricing plans by sending POST requests with parameters. All pricing plans must be immediately attached to a sales page.</p>

<blockquote>
<p>Example usage:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
  http://localhost:3000/api/pricing_plans <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'{
    "key": "{key}",
    "secret": "{secret}",
    "sales_page_id": 1087,
    "pricing_plan": {
        "form": "split",
        "preferences": {
            "p_count": 2,
            "first_amount": 0.5,
            "next_amount": 2
        }
    }
}'</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'net/http'</span>
<span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'json'</span>

<span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="s2">"https://elopage.com/api/pricing_plans"</span><span class="p">)</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">)</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">dump</span><span class="p">({</span>
  <span class="s2">"key"</span> <span class="o">=&gt;</span> <span class="s2">"{api_key}"</span><span class="p">,</span>
  <span class="s2">"secret"</span> <span class="o">=&gt;</span> <span class="s2">"{api_secret}"</span><span class="p">,</span>
  <span class="s2">"sales_page_id"</span> <span class="o">=&gt;</span> <span class="mi">1087</span><span class="p">,</span>
  <span class="s2">"pricing_plan"</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="s2">"form"</span> <span class="o">=&gt;</span> <span class="s2">"split"</span><span class="p">,</span>
    <span class="s2">"preferences"</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="s2">"p_count"</span> <span class="o">=&gt;</span> <span class="mi">2</span><span class="p">,</span>
      <span class="s2">"first_amount"</span> <span class="o">=&gt;</span> <span class="mi">0</span><span class="o">.</span><span class="mi">5</span><span class="p">,</span>
      <span class="s2">"next_amount"</span> <span class="o">=&gt;</span> <span class="mi">2</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">})</span>

<span class="n">req_options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">use_ssl: </span><span class="n">uri</span><span class="p">.</span><span class="nf">scheme</span> <span class="o">==</span> <span class="s2">"https"</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">start</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">hostname</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">,</span> <span class="n">req_options</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">http</span><span class="o">|</span>
  <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="k">end</span>
</code></pre>
<blockquote>
<p>Example response:</p>
</blockquote>
<pre class="highlight plaintext"><code>{
    "id": 1312,
    "form": "splited",
    "preferences": {
        "p_count": "2",
        "first_amount": "0.5",
        "next_amount": "2.0"
    }
}
</code></pre><h3 id='post-2'>POST</h3>
<p><code>https://elopage.com/api/pricing_plans</code></p>
<h3 id='parameter-5'>Parameter</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>sales_page_id</td>
<td>Integer</td>
<td>ID of sales page for which you create this pricing plan</td>
</tr>
<tr>
<td>pricing_plan</td>
<td>Object</td>
<td>Pricing plan object</td>
</tr>
<tr>
<td>&nbsp;&nbsp;form</td>
<td>String</td>
<td>Allowed values: <code>&quot;one_time&quot;, &quot;subscription&quot;, &quot;split&quot;</code></td>
</tr>
<tr>
<td>&nbsp;&nbsp;preferences</td>
<td>Object</td>
<td>Apply different intervals for pricing plans with subscription and installments.&nbsp;&nbsp;&nbsp;&nbsp;price</td>
</tr>
<tr>
<td>&nbsp;&nbsp;&nbsp;&nbsp;old_price</td>
<td>Decimal</td>
<td>old product price</td>
</tr>
<tr>
<td>&nbsp;&nbsp;&nbsp;&nbsp;p_count</td>
<td>Integer</td>
<td>total count of payments (required for pricing plan form: split)</td>
</tr>
<tr>
<td>&nbsp;&nbsp;&nbsp;&nbsp;first_interval</td>
<td>String</td>
<td>first payment interval (required for pricing plan form: subscription/split)</td>
</tr>
<tr>
<td>&nbsp;&nbsp;&nbsp;&nbsp;first_amount</td>
<td>Decimal</td>
<td>first payment amount (required for pricing plan form: subscription/split)</td>
</tr>
<tr>
<td>&nbsp;&nbsp;&nbsp;&nbsp;next_interval</td>
<td>String</td>
<td>next payment interval startdate (required for pricing plan form: subscription/split)</td>
</tr>
<tr>
<td>&nbsp;&nbsp;&nbsp;&nbsp;next_amount</td>
<td>Decimal</td>
<td>next payment amount (required for pricing plan form: subscription/split)</td>
</tr>
<tr>
<td>&nbsp;&nbsp;&nbsp;&nbsp;splitting_type</td>
<td>String</td>
<td>splitting type (required for pricing plan form: split); notes: &quot;installment&quot; - <b>One invoice for the entire amount will be issued</b>, &quot;limited_subscription&quot; - <b>For each payment a new invoice will be issued</b> <br> Allowed values: <code>[&quot;installment&quot;, &quot;limited_subscription&quot;]</code></td>
</tr>
</tbody></table>
<h3 id='success-200-5'>Success 200</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Integer</td>
<td>Created pricing plan ID</td>
</tr>
<tr>
<td>form</td>
<td>String</td>
<td>Allowed values: <code>&quot;one_time&quot;, &quot;subscription&quot;, &quot;split&quot;</code></td>
</tr>
<tr>
<td>preferences</td>
<td>Object</td>
<td>Apply different intervals for pricing plans with subscription and installments.&nbsp;&nbsp;price</td>
</tr>
<tr>
<td>&nbsp;&nbsp;old_price</td>
<td>Decimal</td>
<td>old product price</td>
</tr>
<tr>
<td>&nbsp;&nbsp;p_count</td>
<td>Integer</td>
<td>total count of payments (required for pricing plan form: split)</td>
</tr>
<tr>
<td>&nbsp;&nbsp;first_interval</td>
<td>String</td>
<td>first payment interval (required for pricing plan form: subscription/split)</td>
</tr>
<tr>
<td>&nbsp;&nbsp;first_amount</td>
<td>Decimal</td>
<td>first payment amount (required for pricing plan form: subscription/split)</td>
</tr>
<tr>
<td>&nbsp;&nbsp;next_interval</td>
<td>String</td>
<td>next payment interval startdate (required for pricing plan form: subscription/split)</td>
</tr>
<tr>
<td>&nbsp;&nbsp;next_amount</td>
<td>Decimal</td>
<td>next payment amount (required for pricing plan form: subscription/split)</td>
</tr>
<tr>
<td>&nbsp;&nbsp;splitting_type</td>
<td>String</td>
<td>splitting type (required for pricing plan form: split); notes: &quot;installment&quot; - <b>One invoice for the entire amount will be issued</b>, &quot;limited_subscription&quot; - <b>For each payment a new invoice will be issued</b> <br> Allowed values: <code>[&quot;installment&quot;, &quot;limited_subscription&quot;]</code></td>
</tr>
</tbody></table>
<h3 id='error-4xx-5'>Error 4xx</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>NoAccessRight</td>
<td>Only authenticated sellers can access the data.</td>
</tr>
<tr>
<td>UserNotFound</td>
<td>The key of the user was not found.</td>
</tr>
</tbody></table>
<h2 id='delete-pricing-plan'>Delete pricing plan</h2>
<p>You can delete pricing plans with a simple delete request.</p>

<blockquote>
<p>Example usage:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X DELETE <span class="se">\</span>
  https://elopage.com/api/pricing_plans/:id <span class="se">\</span>
  -d <span class="s1">'{
    "key": "api_key",
    "secret": "api_secret"
}'</span>
</code></pre><pre class="highlight ruby tab-ruby"><code>
<span class="nb">require</span> <span class="s1">'net/http'</span>
<span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'json'</span>

<span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="s2">"https://elopage.com/api/pricing_plans/:id"</span><span class="p">)</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Delete</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">)</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">dump</span><span class="p">({</span>
  <span class="s2">"key"</span> <span class="o">=&gt;</span> <span class="s2">"api_key"</span><span class="p">,</span>
  <span class="s2">"secret"</span> <span class="o">=&gt;</span> <span class="s2">"api_secret"</span>
<span class="p">})</span>

<span class="n">req_options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">use_ssl: </span><span class="n">uri</span><span class="p">.</span><span class="nf">scheme</span> <span class="o">==</span> <span class="s2">"https"</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">start</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">hostname</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">,</span> <span class="n">req_options</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">http</span><span class="o">|</span>
  <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="k">end</span>
</code></pre>
<blockquote>
<p>Example response:</p>
</blockquote>
<pre class="highlight plaintext"><code>{
    "status": "success",
    "response": "Pricing plan 1313 was successfully destroyed"
}
</code></pre><h3 id='delete'>DELETE</h3>
<p><code>https://elopage.com/api/pricing_plans/:id</code></p>
<h3 id='parameter-6'>Parameter</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Integer</td>
<td>ID of the pricing plan you want to delete</td>
</tr>
</tbody></table>
<h3 id='success-200-6'>Success 200</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>string</td>
<td>status of the request, possible values: <code>&#39;success&#39;, &#39;error&#39;</code></td>
</tr>
<tr>
<td>response</td>
<td>string</td>
<td>response text</td>
</tr>
</tbody></table>
<h3 id='error-4xx-6'>Error 4xx</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>NoAccessRight</td>
<td>Only authenticated sellers can access the data.</td>
</tr>
<tr>
<td>UserNotFound</td>
<td>The key of the user was not found.</td>
</tr>
</tbody></table>
<h1 id='payments'>Payments</h1><h2 id='get-payment-info'>Get payment info</h2>
<blockquote>
<p>Example usage:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X GET -H <span class="s2">"Content-Type: application/json"</span> <span class="s2">"https://elopage.com/api/payments/{id}?key={api_key}&amp;secret={api_secret}"</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'net/http'</span>
<span class="nb">require</span> <span class="s1">'uri'</span>

<span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="no">URI</span><span class="p">(</span><span class="s1">'https://elopage.com/api/payments/{id}?key={api_key}&amp;secret={api_secret}'</span><span class="p">))</span>
</code></pre>
<blockquote>
<p>Example response:</p>
</blockquote>
<pre class="highlight plaintext"><code>{
    "id": 540391,
    "payer": {
        "email": "jonhdoe@doe.com",
        "first_name": "John",
        "last_name": "Done",
        "country": "Berlin",
        "city": "Germany",
        "street": "Joachimsthaler Straße 21",
        "zip": "10719",
        "company": null,
        "vat_id": null,
        "phone": "+4930398204650"
    },
    "revenue": 199.9,
    "amount": 194.1,
    "fee": 5.8,
    "recurring": false,
    "recurring_form": "one_time",
    "payment_method": "paypal",
    "payment_session_id": "1234",
    "sales_page_id": "1087",
    "state": "successful",
    "created_date": "2017-12-11T15:47Z",
    "success_date": "2017-12-11T15:47Z",
    "success_date_short": "2017-12-11",
    "invoice_link": "https://elopage.com/common/invoices/2879?token=uVUai-84pyDhdz8K3nNd",
    "success_link": "https://elopage.com/s/elopage/product-name-6/payment_success?token=uVUai-84pyDhdz8K3nNd"
    "author_commissions": [
      {
          "id": 1,
          "rate": "10.0",
          "amount": "19.385",
          "payment_id": 542711
      }
    ]
}
</code></pre>
<p>Getting the payment information by fetching the transaction or payment info is a critical use of the API. In the following you can find out which requests are needed to get the necessary information to deliver your content, product or service.</p>
<h3 id='get-3'>GET</h3>
<p><code>https://elopage.com/api/payments/:id</code></p>
<h3 id='parameter-7'>Parameter</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>secret</td>
<td>String</td>
<td>elopage api_secret which can be generated and found in your dashboard under Settings &gt; Integrations</td>
</tr>
<tr>
<td>key</td>
<td>String</td>
<td>Your personal elopage API key which you can generate in your dashboard: Settings &gt; Integrations</td>
</tr>
<tr>
<td>id</td>
<td>Number</td>
<td>Payment ID</td>
</tr>
</tbody></table>
<h3 id='success-200-7'>Success 200</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>payer</td>
<td>Object</td>
<td>customer&#39;s object</td>
</tr>
<tr>
<td>&nbsp;&nbsp;email</td>
<td>String</td>
<td>customer&#39;s email</td>
</tr>
<tr>
<td>&nbsp;&nbsp;first_name</td>
<td>String</td>
<td>customer&#39;s first name</td>
</tr>
<tr>
<td>&nbsp;&nbsp;last_name</td>
<td>String</td>
<td>customer&#39;s last name</td>
</tr>
<tr>
<td>&nbsp;&nbsp;country</td>
<td>String</td>
<td>customer&#39;s country</td>
</tr>
<tr>
<td>&nbsp;&nbsp;city</td>
<td>String</td>
<td>customer&#39;s city</td>
</tr>
<tr>
<td>&nbsp;&nbsp;street</td>
<td>String</td>
<td>customer&#39;s street</td>
</tr>
<tr>
<td>&nbsp;&nbsp;zip</td>
<td>String</td>
<td>customer&#39;s zip code</td>
</tr>
<tr>
<td>&nbsp;&nbsp;company</td>
<td>String</td>
<td>customer&#39;s company name</td>
</tr>
<tr>
<td>&nbsp;&nbsp;vat_id</td>
<td>String</td>
<td>customer&#39;s vat ID</td>
</tr>
<tr>
<td>&nbsp;&nbsp;phone</td>
<td>String</td>
<td>customer&#39;s phone number</td>
</tr>
<tr>
<td>revenue</td>
<td>Decimal</td>
<td>gross revenue</td>
</tr>
<tr>
<td>amount</td>
<td>Decimal</td>
<td>net revenue</td>
</tr>
<tr>
<td>fee</td>
<td>Decimal</td>
<td>fees</td>
</tr>
<tr>
<td>recurring</td>
<td>Boolean</td>
<td>Returns true if it is a recurring type payment</td>
</tr>
<tr>
<td>recurring_form</td>
<td>String</td>
<td>Returns the recurring type of the transaction. This value is being taken from the pricing plan form(<code>one_time, subscription, split</code>), which was chosen by customer during the checkout process.</td>
</tr>
<tr>
<td>payment_method</td>
<td>String</td>
<td>card, bank_account, paypal, sofort, bank_wire</td>
</tr>
<tr>
<td>payment_session_id</td>
<td>Integer</td>
<td>ID of payment session to which the payment belongs to. You should save it for the recurring payments as recurring payments (next or follow up payments) will have the same session.</td>
</tr>
<tr>
<td>sales_page_id</td>
<td>Integer</td>
<td>ID of sales page that is connected to this payment</td>
</tr>
<tr>
<td>state</td>
<td>String</td>
<td>waiting, successful, success_av, canceled or error</td>
</tr>
<tr>
<td>created_date</td>
<td>String</td>
<td>Date of payment initiation</td>
</tr>
<tr>
<td>success_date</td>
<td>String</td>
<td>Date and time of completed payment</td>
</tr>
<tr>
<td>success_date_short</td>
<td>String</td>
<td>Date of completed payment</td>
</tr>
<tr>
<td>invoice_link</td>
<td>String</td>
<td>This is the invoice URL for automatically generated invoices. Make sure to setup the invoice generation in your dashboard (Setting - Invoice generation) to get the invoice URLs.</td>
</tr>
<tr>
<td>author_commissions</td>
<td>Array</td>
<td>Refunded commission that was previously paid to the author</td>
</tr>
<tr>
<td>&nbsp;&nbsp; id</td>
<td>Integer</td>
<td>Author commission ID</td>
</tr>
<tr>
<td>&nbsp;&nbsp; rate</td>
<td>Integer</td>
<td>Commission rate in percentage with which commission was calculated</td>
</tr>
<tr>
<td>&nbsp;&nbsp; amount</td>
<td>Integer</td>
<td>Amount earned by author with this payment</td>
</tr>
<tr>
<td>&nbsp;&nbsp; payment_id</td>
<td>Integer</td>
<td>ID of payment to which commissions are connected</td>
</tr>
</tbody></table>
<h3 id='error-4xx-7'>Error 4xx</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>NoAccessRight</td>
<td>Only authenticated sellers can access the data.</td>
</tr>
<tr>
<td>UserNotFound</td>
<td>The key of the user was not found.</td>
</tr>
</tbody></table>
<h1 id='refunds'>Refunds</h1>
<p>You can refund completed payments or transactions. Refunds will be processed via the same payment method that was preferred by the customer.</p>
<h2 id='create-a-refund'>Create a refund</h2>
<p>Create a refund using the following method. An automated email from the elopage system will be sent to notify the customer about the refund. This email also includes an appropriate credit memo.</p>

<blockquote>
<p>Example usage:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
  https://elopage.com/api/payments/<span class="o">{</span>:id<span class="o">}</span>/refund <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'{
  "key":"{API key}",
  "secret":"{API secret}"
}'</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://elopage.com/api/payments/{:id}/refund"</span><span class="p">)</span>
<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="p">{</span>
                  <span class="ss">key: </span><span class="s2">"{API key}"</span><span class="p">,</span>
                  <span class="ss">secret: </span><span class="s2">"{API secret}"</span>
               <span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre>
<blockquote>
<p>Example response:</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "payer": {
      "email": "jonhdoe@doe.com",
      "first_name": "John",
      "last_name": "Done",
      "country": "Berlin",
      "city": "Germany",
      "street": "Joachimsthaler Straße 21",
      "zip": "10719",
      "company": null,
      "vat_id": null,
      "phone": "+4930398204650"
  },
  "total": "-199.9",
  "amount": "-199.9",
  "fee": 0,
  "id": 542652,
  "payment_method": "credit_card",
  "payment_session_id": 3913,
  "sales_page_id": "1087",
  "refunded_tansfer_id": 542180,
  "state": "successful"
},
"author_commissions": [
    {
        "id": 2,
        "rate": "10.0",
        "amount": "-19.385",
        "payment_id": 542760
    }
]
</code></pre><h3 id='post-3'>POST</h3>
<p><code>https://elopage.com/api/payments/:id/refund</code></p>
<h3 id='parameter-8'>Parameter</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>secret</td>
<td>String</td>
<td>elopage api_secret which can be generated and found in your dashboard under Settings &gt; Integrations</td>
</tr>
<tr>
<td>key</td>
<td>String</td>
<td>Your personal elopage API key which you can generate in your dashboard: Settings &gt; Integrations</td>
</tr>
<tr>
<td>id</td>
<td>Number</td>
<td>Payment ID</td>
</tr>
</tbody></table>
<h3 id='success-200-8'>Success 200</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>payer</td>
<td>Object</td>
<td>customer&#39;s object</td>
</tr>
<tr>
<td>&nbsp;&nbsp;email</td>
<td>String</td>
<td>customer&#39;s email</td>
</tr>
<tr>
<td>&nbsp;&nbsp;first_name</td>
<td>String</td>
<td>customer&#39;s first name</td>
</tr>
<tr>
<td>&nbsp;&nbsp;last_name</td>
<td>String</td>
<td>customer&#39;s last name</td>
</tr>
<tr>
<td>&nbsp;&nbsp;country</td>
<td>String</td>
<td>customer&#39;s country</td>
</tr>
<tr>
<td>&nbsp;&nbsp;city</td>
<td>String</td>
<td>customer&#39;s city</td>
</tr>
<tr>
<td>&nbsp;&nbsp;street</td>
<td>String</td>
<td>customer&#39;s street</td>
</tr>
<tr>
<td>&nbsp;&nbsp;zip</td>
<td>String</td>
<td>customer&#39;s zip code</td>
</tr>
<tr>
<td>&nbsp;&nbsp;company</td>
<td>String</td>
<td>customer&#39;s company name</td>
</tr>
<tr>
<td>&nbsp;&nbsp;vat_id</td>
<td>String</td>
<td>customer&#39;s vat ID</td>
</tr>
<tr>
<td>&nbsp;&nbsp;phone</td>
<td>String</td>
<td>pacustomeryer phone</td>
</tr>
<tr>
<td>total</td>
<td>Decimal</td>
<td>brutto amount</td>
</tr>
<tr>
<td>amount</td>
<td>Decimal</td>
<td>netto amount</td>
</tr>
<tr>
<td>fee</td>
<td>Decimal</td>
<td>fees</td>
</tr>
<tr>
<td>payment_method</td>
<td>String</td>
<td>card, bank_account, paypal, sofort, bank_wire</td>
</tr>
<tr>
<td>payment_session_id</td>
<td>Integer</td>
<td>ID of payment session to which the payment belongs to. You should save it for the recurring payments as recurring payments (next or follow up payments) will have the same session.</td>
</tr>
<tr>
<td>sales_page_id</td>
<td>Integer</td>
<td>ID of sales page that is connected to this payment</td>
</tr>
<tr>
<td>refunded_transfer_id</td>
<td>Integer</td>
<td>ID of the transfer which is being refunded</td>
</tr>
<tr>
<td>state</td>
<td>String</td>
<td>waiting, successful, success_av, canceled or error</td>
</tr>
<tr>
<td>author_commissions</td>
<td>Array</td>
<td>Refunded commission that was previously paid to the author</td>
</tr>
<tr>
<td>&nbsp;&nbsp; id</td>
<td>Integer</td>
<td>Author commission ID</td>
</tr>
<tr>
<td>&nbsp;&nbsp; rate</td>
<td>Integer</td>
<td>Commission rate in percentage with which commission was calculated</td>
</tr>
<tr>
<td>&nbsp;&nbsp; amount</td>
<td>Integer</td>
<td>Amount earned by author with this payment which is being refunded</td>
</tr>
<tr>
<td>&nbsp;&nbsp; payment_id</td>
<td>Integer</td>
<td>ID of payment to which commissions are connected</td>
</tr>
</tbody></table>
<h3 id='error-4xx-8'>Error 4xx</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>NoAccessRight</td>
<td>Only authenticated sellers can access the data.</td>
</tr>
<tr>
<td>UserNotFound</td>
<td>The key of the user was not found.</td>
</tr>
</tbody></table>
<h2 id='get-refund-info'>Get refund info</h2>
<blockquote>
<p>Example usage:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X GET -H <span class="s2">"Content-Type: application/json"</span> <span class="s2">"https://elopage.com/api/payments/{id}?key={api_key}&amp;secret={api_secret}"</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'net/http'</span>
<span class="nb">require</span> <span class="s1">'uri'</span>

<span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="no">URI</span><span class="p">(</span><span class="s1">'https://elopage.com/api/payments/{id}?key={api_key}&amp;secret={api_secret}'</span><span class="p">))</span>
</code></pre>
<blockquote>
<p>Example response:</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "payer": {
      "email": "jonhdoe@doe.com",
      "first_name": "John",
      "last_name": "Done",
      "country": "Berlin",
      "city": "Germany",
      "street": "Joachimsthaler Straße 21",
      "zip": "10719",
      "company": null,
      "vat_id": null,
      "phone": "+4930398204650"
  },
  "total": "-199.9",
  "amount": "-199.9",
  "fee": 0,
  "id": 542652,
  "payment_method": "credit_card",
  "payment_session_id": 3913,
  "sales_page_id": "1087",
  "refunded_tansfer_id": 542180,
  "state": "successful"
},
"author_commissions": [
    {
        "id": 2,
        "rate": "10.0",
        "amount": "-19.385",
        "payment_id": 542760
    }
]

</code></pre>
<p>You can fetch refund transactions by IDs. Please use the following method and parameters.</p>
<h3 id='get-4'>GET</h3>
<p><code>https://elopage.com/api/payments/:id</code></p>
<h3 id='parameter-9'>Parameter</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>secret</td>
<td>String</td>
<td>elopage api_secret which can be generated and found in your dashboard under Settings &gt; Integrations</td>
</tr>
<tr>
<td>key</td>
<td>String</td>
<td>Your personal elopage API key which you can generate in your dashboard: Settings &gt; Integrations</td>
</tr>
<tr>
<td>id</td>
<td>Number</td>
<td>Payment ID</td>
</tr>
</tbody></table>
<h3 id='success-200-9'>Success 200</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>payer</td>
<td>Object</td>
<td>customer&#39;s object</td>
</tr>
<tr>
<td>&nbsp;&nbsp;email</td>
<td>String</td>
<td>customer&#39;s email</td>
</tr>
<tr>
<td>&nbsp;&nbsp;first_name</td>
<td>String</td>
<td>customer&#39;s first name</td>
</tr>
<tr>
<td>&nbsp;&nbsp;last_name</td>
<td>String</td>
<td>customer&#39;s last name</td>
</tr>
<tr>
<td>&nbsp;&nbsp;country</td>
<td>String</td>
<td>customer&#39;s country</td>
</tr>
<tr>
<td>&nbsp;&nbsp;city</td>
<td>String</td>
<td>customer&#39;s city</td>
</tr>
<tr>
<td>&nbsp;&nbsp;street</td>
<td>String</td>
<td>customer&#39;s street</td>
</tr>
<tr>
<td>&nbsp;&nbsp;zip</td>
<td>String</td>
<td>customer&#39;s zip code</td>
</tr>
<tr>
<td>&nbsp;&nbsp;company</td>
<td>String</td>
<td>customer&#39;s company name</td>
</tr>
<tr>
<td>&nbsp;&nbsp;vat_id</td>
<td>String</td>
<td>customer&#39;s vat ID</td>
</tr>
<tr>
<td>&nbsp;&nbsp;phone</td>
<td>String</td>
<td>customer&#39;s phone number</td>
</tr>
<tr>
<td>revenue</td>
<td>Decimal</td>
<td>gross revenue</td>
</tr>
<tr>
<td>amount</td>
<td>Decimal</td>
<td>net revenue</td>
</tr>
<tr>
<td>fee</td>
<td>Decimal</td>
<td>fees</td>
</tr>
<tr>
<td>recurring</td>
<td>Boolean</td>
<td>Returns true if it is a recurring type payment</td>
</tr>
<tr>
<td>recurring_form</td>
<td>String</td>
<td>Returns the recurring type of the transaction. This value is being taken from the pricing plan form(<code>one_time, subscription, split</code>), which was chosen by customer during the checkout process.</td>
</tr>
<tr>
<td>payment_method</td>
<td>String</td>
<td>card, bank_account, paypal, sofort, bank_wire</td>
</tr>
<tr>
<td>payment_session_id</td>
<td>Integer</td>
<td>ID of payment session to which the payment belongs to. You should save it for the recurring payments as recurring payments (next or follow up payments) will have the same session.</td>
</tr>
<tr>
<td>sales_page_id</td>
<td>Integer</td>
<td>ID of sales page that is connected to this payment</td>
</tr>
<tr>
<td>state</td>
<td>String</td>
<td>waiting, successful, pending, canceled or error</td>
</tr>
<tr>
<td>created_date</td>
<td>String</td>
<td>Date of payment initiation</td>
</tr>
<tr>
<td>success_date</td>
<td>String</td>
<td>Date and time of completed payment</td>
</tr>
<tr>
<td>success_date_short</td>
<td>String</td>
<td>Date of completed payment</td>
</tr>
<tr>
<td>invoice_link</td>
<td>String</td>
<td>This is the invoice URL for automatically generated invoices. Make sure to setup the invoice generation in your dashboard (Setting - Invoice generation) to get the invoice URLs.</td>
</tr>
<tr>
<td>author_commissions</td>
<td>Array</td>
<td>Refunded commission that was previously paid to the author</td>
</tr>
<tr>
<td>&nbsp;&nbsp; id</td>
<td>Integer</td>
<td>Author commission ID</td>
</tr>
<tr>
<td>&nbsp;&nbsp; rate</td>
<td>Integer</td>
<td>Commission rate in percentage with which commission was calculated</td>
</tr>
<tr>
<td>&nbsp;&nbsp; amount</td>
<td>Integer</td>
<td>Amount earned by author with this payment which is being refunded</td>
</tr>
<tr>
<td>&nbsp;&nbsp; payment_id</td>
<td>Integer</td>
<td>ID of payment to which commissions are connected</td>
</tr>
</tbody></table>
<h3 id='error-4xx-9'>Error 4xx</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>NoAccessRight</td>
<td>Only authenticated sellers can access the data.</td>
</tr>
<tr>
<td>UserNotFound</td>
<td>The key of the user was not found.</td>
</tr>
</tbody></table>
<h1 id='webhooks'>Webhooks</h1>
<p>Use webhooks to receive instant notification of events related to payments and statuses such as successful, error or waiting/pending payments. Depending on the payment method, the status can change from waiting to successul or error or from pending to successful or error. Check parameters and methods below.</p>
<h3 id='message-body'>Message body</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>payer</td>
<td>Object</td>
<td>customer&#39;s object</td>
</tr>
<tr>
<td>&nbsp;&nbsp;email</td>
<td>String</td>
<td>customer&#39;s email</td>
</tr>
<tr>
<td>&nbsp;&nbsp;first_name</td>
<td>String</td>
<td>customer&#39;s first name</td>
</tr>
<tr>
<td>&nbsp;&nbsp;last_name</td>
<td>String</td>
<td>customer&#39;s last name</td>
</tr>
<tr>
<td>&nbsp;&nbsp;country</td>
<td>String</td>
<td>customer&#39;s country</td>
</tr>
<tr>
<td>&nbsp;&nbsp;city</td>
<td>String</td>
<td>customer&#39;s city</td>
</tr>
<tr>
<td>&nbsp;&nbsp;street</td>
<td>String</td>
<td>customer&#39;s street</td>
</tr>
<tr>
<td>&nbsp;&nbsp;zip</td>
<td>String</td>
<td>customer&#39;s zip code</td>
</tr>
<tr>
<td>&nbsp;&nbsp;company</td>
<td>String</td>
<td>customer&#39;s company name</td>
</tr>
<tr>
<td>&nbsp;&nbsp;vat_id</td>
<td>String</td>
<td>customer&#39;s vat ID</td>
</tr>
<tr>
<td>&nbsp;&nbsp;phone</td>
<td>String</td>
<td>customer&#39;s phone number</td>
</tr>
<tr>
<td>revenue</td>
<td>Decimal</td>
<td>gross revenue</td>
</tr>
<tr>
<td>amount</td>
<td>Decimal</td>
<td>net revenue</td>
</tr>
<tr>
<td>fee</td>
<td>Decimal</td>
<td>fees</td>
</tr>
<tr>
<td>recurring</td>
<td>Boolean</td>
<td>Returns true if it is a recurring type payment</td>
</tr>
<tr>
<td>recurring_form</td>
<td>String</td>
<td>Returns the recurring type of the transaction. This value is being taken from the pricing plan form(<code>one_time, subscription, split</code>), which was chosen by customer during the checkout process.</td>
</tr>
<tr>
<td>payment_method</td>
<td>String</td>
<td>card, bank_account, paypal, sofort, bank_wire</td>
</tr>
<tr>
<td>payment_session_id</td>
<td>Integer</td>
<td>ID of payment session to which the payment belongs to. You should save it for the recurring payments as recurring payments (next or follow up payments) will have the same session.</td>
</tr>
<tr>
<td>sales_page_id</td>
<td>Integer</td>
<td>ID of sales page that is connected to this payment</td>
</tr>
<tr>
<td>state</td>
<td>String</td>
<td>waiting, successful, success_av, canceled or error</td>
</tr>
<tr>
<td>created_date</td>
<td>String</td>
<td>Date of payment initiation</td>
</tr>
<tr>
<td>success_date</td>
<td>String</td>
<td>Date and time of completed payment</td>
</tr>
<tr>
<td>success_date_short</td>
<td>String</td>
<td>Date of completed payment</td>
</tr>
<tr>
<td>invoice_link</td>
<td>String</td>
<td>This is the invoice URL for automatically generated invoices. Make sure to setup the invoice generation in your dashboard (Setting - Invoice generation) to get the invoice URLs.</td>
</tr>
<tr>
<td>author_commissions</td>
<td>Array</td>
<td>Refunded commission that was previously paid to the author</td>
</tr>
<tr>
<td>&nbsp;&nbsp; id</td>
<td>Integer</td>
<td>Author commission ID</td>
</tr>
<tr>
<td>&nbsp;&nbsp; rate</td>
<td>Integer</td>
<td>Commission rate in percentage with which commission was calculated</td>
</tr>
<tr>
<td>&nbsp;&nbsp; amount</td>
<td>Integer</td>
<td>Amount earned by author with this payment</td>
</tr>
<tr>
<td>&nbsp;&nbsp; payment_id</td>
<td>Integer</td>
<td>ID of payment to which commissions are connected</td>
</tr>
</tbody></table>
<h1 id='thanks'>Thanks!</h1>
<p>We look forward to your questions and feedback. The elopage API is yet making its baby steps and we value all types of feedback from developers. Feel free to contact us via support@elopage.com. Thanks for using our API. </p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">Curl</a>
                <a href="#" data-language-name="ruby">Ruby</a>
          </div>
      </div>
    </div>
  </body>
</html>
